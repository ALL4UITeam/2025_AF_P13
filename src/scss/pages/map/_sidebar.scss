.sidebar {
  position: fixed; right: var(--pxGapWindow); top: var(--pxGapWindow); bottom: var(--pxGapWindow); z-index: 9;
  display: flex; flex-flow: column; justify-content: space-between;

  :is(.top,.bottom) { display: flex; flex-direction: column; gap: var(--pxGapItem);
    
    li { position: relative; }
  }

  button.menu {
    position: relative; overflow: hidden;
    width: 40px; aspect-ratio: 1/1; border-radius: 8px;
    background: #fff center no-repeat; border: 1px solid #fff; box-shadow: 0px 2px 6px 0px #0000001F;
    color: #fff; font: 900 10px/1.5em var(--ffDefault);
    
    &[data-target='mapType'] { background-image: url('/images/map/sidebar-maptype.svg'); }
    &[data-target='measure'] { background-image: url('/images/map/sidebar-measure.svg'); }
    &[data-target='layer'] { background-image: url('/images/map/sidebar-layer.svg'); }
    &[data-target='legends'] { background-image: url('/images/map/sidebar-legends.svg'); }
    &::before,
    &::after { position: absolute; top: 0; bottom: 0; left: 0; right: 0; opacity: 0; transition: .3s; }
    &::before { content: ''; display: block; background: var(--cP90); }
    &::after { content: attr(title); display: flex; justify-content: center; align-items: center; }

    :is(&:hover, &[data-pressed='true']) {
      &::before { opacity: .9; }
      &::after { opacity: 1; }
    }
  }

  .popup {
    position: absolute;
    display: none; right: calc(40px + var(--pxGapItem));
    background: #fff;
    &[data-show='true'] { display: block; }
  }
    
  .top .popup { top: 0; }
  .bottom .popup { bottom: 0; }
}