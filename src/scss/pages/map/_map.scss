@forward './sidebar';
// filter 여닫을 때 animation, sample reset filter diselect
:root {
  --ffDefault: 'Pretendard GOV', sans-serif;
  --pxListW: 380px;
  --pxGapWindow: 12px;
  --pxGapItem: 8px;
  --pxExRounding: 16px;
  --pxInRounding: 8px;
  --pxPadding: 20px 16px;
  --cPr: #2DA34F; --cPrBack: #CAE8D2;
  --cP10: #81C895; --cP60: #299347; --cP70: #24823F; --cP90: #1B622F; --cSecondary: #1B5D88;
  --cTextPrimary: #299347; --cText1: #33363D; --cText0: #58616A;
  --cG05: #F4F5F6; --cG10: #E6E8EA; --cG20: #CDD1D5; --cG30: #B1B8BE; --cG40: #8A949E; --cG50: #6D7882; --cG60: #58616A; --cG70: #464C53; --cG80: #33363D; --cG90: #1E2124; --cG95: #131416;
  --cOrBack: #FFF8F5; --cOrFore: #FE8052; --cMtBack: #EDF8F8; --cMtFore: #0B9B9B; --cPpBack: #F5EEF7; --cPpFore: #6B0080; 
}

/* common */
* { -webkit-tap-highlight-color: transparent; }
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-thumb { background-color: var(--cG10); border-radius: 4px; }
::-webkit-scrollbar-track { background-color: transparent; }

:where(label,button,[data-selected]) { cursor: pointer; transition: .3s; }
:where(img,input) { min-width: 0; }
input::placeholder { color: var(--cG40); }
select { appearance: none; padding: 0 39px 0 16px; border-radius: 6px; background: #fff url('/images/map/ui-select-arrow.svg') calc(100% - 15px) center no-repeat; }

div.col2 { display: flex; align-items: stretch; gap: 16px;
  &>* { flex: 1; }
}

/* element */
button.full { flex: 0 0 auto; width: 16px; aspect-ratio: 1/1; background: url('/images/map/ui-full.svg') center no-repeat; }

button.to {
  position: relative; overflow: hidden;
  display: flex; gap: 4px; padding: 3px 15px; border-radius: 20px; border: 1px solid var(--cG60);
  color: var(--cG60); font: 700 15px/24px var(--ffDefault); 

  &::after { content: ''; flex: 0 0 20px; aspect-ratio: 1/1; background: url('/images/map/ui-to-arrow.svg') center no-repeat; }
  
  &::before {
    content: ''; position: absolute; top:0; bottom: 0; margin: auto 0; left: 0; right: 0;
    display: block; height: auto; aspect-ratio: 1/1; border-radius: 50%;
    background-color: #000;
    opacity: 0; transition: .5s; }
  &:active::before { transform: scale(0); opacity: .2; transition: 0s; }
}

button.go {
  display: flex; gap: 2px; align-items: center; padding-top:2px;
  color: var(--cP90); font: 400 13px/16px var(--ffDefault);

  &::after { content: ''; flex: 0 0 10px; aspect-ratio: 1/1; margin-top: -2px; background: url('/images/map/ui-go-arrow.svg') center no-repeat; }
  &>* { margin-top: -2px; }
}

span.logo.foodeum {
  flex: 0 0 auto; width: 45px; height: 20px; overflow: hidden; text-indent: -999px; color: transparent; font-size: 0;
  background: url('/images/map/logo-foodeum.png') center no-repeat; background-size: contain; }

.unit { font: 400 13px/24px var(--ffDefault); }
p.unit { text-align: right; }

/* component */
article.chart { padding: 11px; border-radius: var(--pxInRounding); border: 1px solid var(--cG20);
  
  header { display: flex; justify-content: space-between; align-items: center; }

  &+article.chart { margin-top: 16px; }
}

nav.slideTab {
  --pxInPadding: 4px;
  --pxTabGap: 10px;

  position: relative;
  display: flex; gap: var(--pxTabGap); margin: 8px 0; padding: var(--pxInPadding); border-radius: var(--pxInRounding);
  border: 1px solid var(--cG10); background: var(--cG05);

  button {
    flex: 1; position: relative; z-index: 1;
    display: flex; justify-content: center; align-items: center; height: 40px;
    text-align: center; color: var(--cG50); font: 500 15px/23px var(--ffDefault);
    
    &[data-pressed='true'] { color: var(--cG90); }
  }

  &::after {
    content: ''; position: absolute; top: var(--pxInPadding); bottom: var(--pxInPadding); left: var(--pxInPadding); transition: .3s;
    display: block; border-radius: 4px;
    background: #fff; box-shadow: 0px 0px 4px 0px #00000014;
  }
  &:has(button:nth-child(1):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (1 - 1)) / 1); }
  &:has(button:nth-child(2):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (2 - 1)) / 2); }
  &:has(button:nth-child(3):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (3 - 1)) / 3); }
  &:has(button:nth-child(4):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (4 - 1)) / 4); }
  &:has(button:nth-child(5):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (5 - 1)) / 5); }
  &:has(button:nth-child(6):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (6 - 1)) / 6); }
  &:has(button:nth-child(7):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (7 - 1)) / 7); }
  &:has(button:nth-child(8):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (8 - 1)) / 8); }
  &:has(button:nth-child(9):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (9 - 1)) / 8); }
  &:has(button:nth-child(10):last-child) { --width: calc((100% - var(--pxInPadding) * 2 - var(--pxTabGap) * (10 - 1)) / 8); }
  &::after { width: var(--width); }
  &:has([data-pressed='true']:nth-child(2))::after { left: calc((var(--width) + var(--pxTabGap)) * (2 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(3))::after { left: calc((var(--width) + var(--pxTabGap)) * (3 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(4))::after { left: calc((var(--width) + var(--pxTabGap)) * (4 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(5))::after { left: calc((var(--width) + var(--pxTabGap)) * (5 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(6))::after { left: calc((var(--width) + var(--pxTabGap)) * (6 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(7))::after { left: calc((var(--width) + var(--pxTabGap)) * (7 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(8))::after { left: calc((var(--width) + var(--pxTabGap)) * (8 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(9))::after { left: calc((var(--width) + var(--pxTabGap)) * (9 - 1) + 4px); }
  &:has([data-pressed='true']:nth-child(10))::after { left: calc((var(--width) + var(--pxTabGap)) * (10 - 1) + 4px); }
}

.productList { display: flex; flex-flow: wrap; gap: var(--pxGapItem); 
  
  h4 { flex: 0 0 100%; }
  
  article { flex: 1 0 calc(50% - 4px); padding: 19px; border: 1px solid var(--cG10); border-radius: 12px;

    header { margin-bottom: var(--pxGapItem);
      ol.category { display: flex; margin-bottom: 8px; color: var(--cG50); font: 400 15px/18px var(--ffDefault);
        li { padding: 3px 0; }
        li:not(.top) { text-decoration: underline; text-underline-offset: 3px; }
        li:not(.top)+li::before { content: '>'; }
        .top { margin-right: var(--pxGapItem); padding: 2px 0; border-radius: 4px; border: 1px solid var(--cG10); color: var(--cG60); }
      }
      .name { margin: 4px 0; color: var(--cG95); font: 700 19px/23px var(--ffDefault); }
    }

    dl {
      display: flex; justify-content: space-between; gap: var(--pxGapItem); 

      dt {
        flex: 1 0 auto; display: flex; align-items: center; gap: var(--pxGapItem); padding: 1px 0;
        color: var(--cG40); font: 400 15px/23px var(--ffDefault);
        &::after { content: ''; flex: 1; border-top: 1px dashed #D8D8D8; }
      }

      &+dl { margin-top: 2px; }
    }
  }

  .mark { display: flex; flex-flow: wrap; justify-content: flex-end; align-items: center; gap: 10px; margin-top: 10px;
    li { background: center no-repeat; background-size: contain; }
    .haccp { width: 24px; height: 24px; background-image: url('/images/map/details-mark-haccp.png'); }
    .fssc { width: 45px; height: 24px; background-image: url('/images/map/details-mark-fssc.png'); background-size: 78px; background-position-x: left; }
  }
}

.subjectList { display: flex; flex-flow: wrap; gap: var(--pxGapItem); 
  
  h4 { flex: 0 0 100%; margin-bottom: 12px; color: var(--cG95); font: 700 15px/18px var(--ffDefault); }

  article { flex: 0 0 100%; display: flex; padding: 19px; border-radius: 12px; border: 1px solid var(--cG20);
    h5 { flex: 0 0 100px; padding: 4px; color: var(--cG95); font: 700 19px/23px var(--ffDefault); }
  }

  dl {
    flex: 1 0 calc(50% - var(--pxGapItem) / 2);
    display: flex; flex-flow: column; gap: var(--pxGapItem); padding: 20px; border-radius: 12px; border: 1px solid var(--cG10);
    dd { order: -1;
      .category { color: var(--cG50); font: 400 15px/18px var(--ffDefault); display: flex; text-decoration: underline; text-underline-position: 2px;
        li:not(:first-child)::before { content: '>'; }
      }
    }
    dt { padding: 4px; color: var(--cG95); font: 700 19px/23px var(--ffDefault); }
  }
}

ul.tag { display: flex; flex-flow: wrap; gap: 4px;
  li { padding: 3px 8px; font: 400 15px/18px var(--ffDefault); border-radius: 12px; 
    &::before { content: '# '; font: 700 13px/18px var(--ffDefault); }

    &.oemodm { background: var(--cOrBack); color: var(--cOrFore); }
    &.certificate { background: var(--cMtBack); color: var(--cMtFore); }
    &.material { background: var(--cPpBack); color: var(--cPpFore); }
  }
}

ul.keyword {
  display: flex; flex-flow: wrap; gap: 8px; padding: 8px 0;
  color: var(--cG90); font: 400 17px/26px var(--ffDefault);

  li {
    padding: 2px 11px; border-radius: 16px; border: 1px solid var(--cG30); 
    &::before { content: '# '; color: var(--cP10); font: 700 17px/26px var(--ffDefault); }
  }
}

dl.info { display: grid; grid-template-columns: 101px auto;
  dt {
    display: flex; align-items: center; gap: 4px; padding-bottom: 2px;
    color: var(--cG50); font: 400 13px/16px var(--ffDefault);
    
    &::before { content: ''; flex: 0 0 16px; aspect-ratio: 1/1; background: center no-repeat; }
    &.president::before { background-image: url('/images/map/icon-info-president.svg'); }
    &.date::before { background-image: url('/images/map/icon-info-date.svg'); }
    &.type::before { background-image: url('/images/map/icon-info-type.svg'); }
    &.product::before { background-image: url('/images/map/icon-info-product.svg'); }
    &.address::before { background-image: url('/images/map/icon-info-address.svg'); }
    &.employee::before { background-image: url('/images/map/icon-info-employee.svg'); }
    &.active::before { background-image: url('/images/map/icon-info-active.svg'); }

    &::after { content: ''; flex: 1; height: 14px; border-right: 1px solid var(--cG20); }
  }

  dd { padding: 4px 12px; color: var(--cG90); font: 400 15px/18px var(--ffDefault); }
}

table.info {
  table-layout: auto; border-collapse: collapse;
  width: 100%; border-top: 1px solid var(--cG20);

  caption { height: 0; overflow: hidden; }
  :is(th,td) { border-bottom: 1px solid var(--cG10); padding: 9px 0 10px; text-align: center; }
  th { background: var(--cG05); font: 700 13px/20px var(--ffDefault); }
  td { padding: 9px 0 10px; font: 400 13px/20px var(--ffDefault); } 
}

.summaryItems {
  display: flex; flex-flow: wrap; align-items: stretch; gap: 8px; padding: 8px 0;

  dl {
    flex: 1; display: flex; align-items: center; padding: 10px 20px; border-radius: var(--pxInRounding);
    border: 1px solid var(--cG10);
  
    dt { flex: 0 0 auto; color: var(--cG50); font: 400 13px/16px var(--ffDefault);
      .sub { font-size: 10px; line-height: 12px; }
    }
    dd { flex: 1 0 auto; padding: 4px 0; text-align: right; color: var(--cG90); font: 600 15px/20px var(--ffDefault); }
    strong { font: 900 17px/20px var(--ffDefault); }
    strong.blue { color: #0B78CB; }
    strong.red { color: #DE3412; }
  }
}

article.desc { padding: 12px 20px; border-radius: var(--pxInRounding); background: #F2F6F8;
  :is(h2,h3,h4,h5,h6) { padding: 4px 0; color: var(--cG50); font: 400 13px/16px var(--ffDefault); }
  p { padding: 4px 0; font: 400 15px/18px var(--ffDefault); }
}

.mapWrap { width: 100vw; height: 100vh; overflow: hidden; background-color: #000; }
button.poi {
  position: absolute;
  display: flex; align-items: flex-start; width: 40px; height: 40px;
  background: url('/images/map/poi-active.svg') center top no-repeat; background-size: contain;
  transform: translate(-50%, -50%); transition: 0s;

  img {
    display: block; width: 40px; aspect-ratio: 1/1; object-fit: none; 
    background: #fff; border-radius: 50%; border: 2px solid var(--cPr); }

  .tooltip {
    position: absolute; left: 50%; bottom: -6px; transform: translateX(-50%);
    display: block; border-radius: 4px; padding: 2px 8px; background: #fff; box-shadow: 0px 0px 4px 0px #00000040;
    color: var(--cG95); font: 400 13px/20px var(--ffDefault); white-space: nowrap;
    visibility: hidden;
  }

  &:hover { width: 48px; height: 80px; transform: translate(-50%, -75%);
    img { width: 34px; border: 0 none; margin: 8px auto; }
    .tooltip { visibility: visible; }
  }

}

button.layerIcon { 
  position: absolute;
  display: flex; justify-content: center; align-items: center; border-radius: 50%;
  width: 32px; aspect-ratio: 1/1; border: 1px solid #fff;
  background: var(--cPr);
  
  img { filter: brightness(0) invert(1); }
}

.poiTooltip {
  position: absolute; padding: 10px 14px; border-radius: 12px; background: #fff; border: 2px solid var(--cPr); z-index: 9;
  transform: translate(-50%,calc(-100% - 12px)); cursor: pointer;
  color: var(--c90); font: 400 17px/26px var(--ffDefault);
  
  header { color: var(--cG95); font-weight: 700; }

  button.go { padding-top: 0; font-size: 15px; line-height: 23px;
    &::after { flex-basis: 16px; margin-top:2px; background-image: url('/images/map/poi-go-arrow.svg'); }
  }
  &::before,
  &::after {
    content: ''; position: absolute; left: 0; right: 0; margin: 0 auto; bottom: -12px;
    display: block; width: 0; border: solid transparent; border-width: 12px 11px 0; border-top-color: var(--cPr); }
  &::after { border-top-color: #fff; bottom: -10px; }
}

.list {
  position: fixed; left: var(--pxGapWindow); top: var(--pxGapWindow); z-index: 10; overflow: visible;
  display: flex; flex-flow: column; width: var(--pxListW); max-width: calc(100vw - var(--pxGapWindow) * 2); height: 214px;
  border-radius: var(--pxExRounding); background-color: #fff;
  transition: height .3s;

  h1 {
    display: flex; justify-content: center; align-items: flex-end; gap: 4px;
    padding: var(--pxPadding); padding-bottom: 12px;
    
    img.logo { height: 22px; object-fit: contain; }
    img.logo.platform { flex: 0 1 149px; }
    img.logo.map { flex: 0 1 104px; }
  }
  
  .searchWrap {
    display: flex; flex-flow: column;
    height: 160px; padding: var(--pxPadding); border-radius: var(--pxExRounding); 
    background: linear-gradient(96.93deg, #2DA34F -150.38%, #1B5D88 101.57%);
    transition: .3s .2s;

    .search { position: relative; display: flex; gap: 10px; overflow: visible;

      input[type=text] {
        flex: 1; padding: 11px 52px 11px 20px; border-radius: 24px; background: #fff;
        font: 400 17px/26px var(--ffDefault); letter-spacing: -1px; }
        
      button { flex: 0 0 48px; align-self: stretch; }
      button.submit { position: relative; margin-left: -58px; background: url('/images/map/search-keyword.svg') center no-repeat; }
      button.submit::after {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        display: block; background: rgba(0, 0, 0, 0.1); border-radius: 50%;
        transform: scale(.8); opacity: 0; transition: .5s; }
      button.submit:active::after { transform: scale(1); opacity: 1; transition: 0s; }
      button.radius {
        border-radius: 50%; border: 1px solid transparent;
        background: #000000C0 url('/images/map/search-radius.svg') center no-repeat; background-size: 24px; opacity: .4;
        transition: .3s;
      
        &:active { background-size: 20px; transition: 0s; }
        &[data-pressed='true'] { opacity: 1; background-color: var(--cPr); border-color: var(--cP70); }
        
        &:hover+.tooltip { visibility: visible; opacity: 1; top: 57px; }
      }

      .tooltip {
      position: absolute; top: 50px; right: 24px; transform: translateX(50%);
      padding: 4px 8px; border-radius: 4px; color: var(--cG80); font: 500 15px/18px var(--ffDefault);
      box-shadow: 0px 0px 4px 0px #00000080; background: #fff; 
      visibility: hidden; opacity: 0; transition: .3s; 
        &::before {
          content: ''; position: absolute; left: 0; right: 0; top: -3px; margin: 0 auto;
          display: block; width: 10px; height: 10px; border-radius: 2px; background: #fff;
            transform: rotate(45deg);
          }
      }

    }

    nav.filter { display: flex; gap: var(--pxGapItem); margin-top: 16px; padding-top: 15px; border-top: 1px solid #FFFFFF33;
      button {
        flex: 1; display: flex; justify-content: center; align-items: stretch; gap: 2px; overflow: hidden;
        padding: 9px; border: 1px solid transparent; border-radius: 10px; background: #FFFFFF33;
        color: #fff; font: 400 13px/20px var(--ffDefault); letter-spacing: -1px; 
        transition: .3s; }

      button span { display: none; flex: 0 1 auto; overflow: hidden; text-wrap: nowrap; text-overflow: ellipsis; }
      
      button::before {
        content: ''; flex: 0 0 0;
        background: url('/images/map/ui-radio-checked.svg') left 8px no-repeat; background-size: contain;
        transition: .3s; }
      button::after { content: attr(title); }
      button[data-pressed='true'] { border-color: var(--cP70); background-color: var(--cPrBack); color: var(--cP90); transition: 0s; }

      button.applyed { font-weight: 600; color: var(--cP90); }
      button.applyed span { display: block; }
      button.applyed::before { flex-basis: 12px; background-position-y: 5px; }
      button.applyed::after { content: none; }
    }

    button.reset {
      align-self: flex-end; display: none; margin-top: var(--pxGapItem); padding-right: 24px; border-radius: 4px;
      background: url('/images/map/search-reset.svg') right center no-repeat;
      color: #fff; font: 400 13px/20px var(--ffDefault);}
  }
  
  .filterWrap {
    flex: 0 0 auto;
    max-height: 0; border-radius: 0 0 var(--pxExRounding) var(--pxExRounding); overflow: hidden;
    background: #EAF1ED; box-shadow: 0px 6px 6px 0px #1B622F33;
    transition: .3s;
;
    :is(.set,footer) { display: flex; flex-flow: wrap; gap: var(--pxGapItem); padding: var(--pxPadding); }
    .set:not([data-show='true']) { display: none; }

    .set { 
      select {
        flex: 1; height: 40px; border-radius: 6px; 
        border: 1px solid var(--cG60);
        color: var(--cG90); font: 400 15px/1em var(--ffDefault); }
    
      & input:is([type='radio'],[type='checkbox']) { visibility: hidden; opacity: 0; position: absolute; }
      & :is(label, button[data-pressed]) {
      flex: 0 0 auto; display: flex; justify-content: center; align-items: stretch; gap: 2px;
      padding: 7px 15px; border-radius: 20px;
      background: #fff; border: 1px solid var(--cG20);
      color: var(--cG80); font: 400 15px/24px var(--ffDefault); white-space: nowrap; }

      & label:has(input:is([type='radio'],[class]))::before,
      & button[data-pressed]::before {
        content: ''; flex: 0 0 12px;
        background: url('/images/map/ui-radio-checked.svg') left 7px no-repeat; background-size: contain;
        transition: .3s; }

      & label:has(input[class]) { gap: var(--pxGapItem); }
      & label:has(input[class])::before { flex-basis: 20px; background-position: center; background-size: auto; }
      & label:has(input.all)::before { background-image: url('/images/map/category-all.svg'); }
      & label:has(input.hmr)::before { background-image: url('/images/map/category-hmr.svg'); }
      & label:has(input.functional)::before { background-image: url('/images/map/category-functional.svg'); }
      & label:has(input.kimchi)::before { background-image: url('/images/map/category-kimchi.svg'); }
      & label:has(input.agricultural)::before { background-image: url('/images/map/category-agricultural.svg'); }
      & label:has(input.seafood)::before { background-image: url('/images/map/category-seafood.svg'); }
      & label:has(input.dairy)::before { background-image: url('/images/map/category-dairy.svg'); }
      & label:has(input.oil)::before { background-image: url('/images/map/category-oil.svg'); }
      & label:has(input.drink)::before { background-image: url('/images/map/category-drink.svg'); }
      & label:has(input.meat)::before { background-image: url('/images/map/category-meat.svg'); }
      & label:has(input.vegetation)::before { background-image: url('/images/map/category-vegetation.svg'); }
      & label:has(input.ginseng)::before { background-image: url('/images/map/category-ginseng.svg'); }
      & label:has(input.traditional)::before { background-image: url('/images/map/category-traditional.svg'); }
      & label:has(input.baking)::before { background-image: url('/images/map/category-baking.svg'); }
      & label:has(input.alcohol)::before { background-image: url('/images/map/category-alcohol.svg'); }
      & label:has(input.additive)::before { background-image: url('/images/map/category-additive.svg'); }
      & label:has(input.coffee)::before { background-image: url('/images/map/category-coffee.svg'); }
      & label:has(input.petfood)::before { background-image: url('/images/map/category-petfood.svg'); }
      & label:has(input.none)::before { background-image: url('/images/map/category-none.svg'); }

      & label:has(input[type='radio']:not(:checked))::before,
      & button[data-pressed='false']::before { flex-basis: 0px; background-position-y: 7px; }

      & :is(label:has(input:checked),button[data-pressed='true']) { border-color: var(--cP70); background-color: var(--cPrBack); color: var(--cP90); font-weight: 700; }

    }

    footer { display: none; justify-content: center; gap: var(--pxGapItem); border-top: 1px solid #81C8954D;
      
      button {
        position: relative; overflow: hidden;
        flex: 0 1 auto; display: flex; justify-content: center; align-items: center;
        min-width: 120px; height: 48px; padding: 0 24px; border-radius: 24px;
        background: #fff; border: 1px solid var(--cP10);
        color: var(--cP60); font: 400 15px/24px var(--ffDefault);
        transition: .3s; }
      strong { display: contents; }
      strong button { background: var(--cPr); border-color: transparent; color: #fff; }

      button::after {
        content: ''; position: absolute; left: 0; right: 0; 
        display: block; height: auto; aspect-ratio: 1/1;
        background: var(--cPr); border-radius: 50%; opacity: 0;
        mix-blend-mode: darken; transition: .5s ease-out; }
      strong button::after { mix-blend-mode: overlay; background-color: var(--cP90); }
      button:active::after { transform: scale(0); opacity: .2; transition: 0s; }
      strong button:active::after { opacity: .5; }
    }
  }
  
  &:has(.result[data-folded='false']) { height: calc(100vh - var(--pxGapWindow) * 2);
    & .filterWrap[data-folded='false'] { max-height: calc(100vh - var(--pxGapWindow) * 2 - 214px); transition-delay: .1s; }
  }

  &:has(.filterWrap[data-folded='false']) .searchWrap { border-radius: var(--pxExRounding) var(--pxExRounding) 0 0; transition-delay: 0s; }

  .result { flex: 1 1 0; overflow: auto;

    &>header {
      display: flex; flex-flow: wrap; gap: var(--pxGapItem); padding: 16px 8px 8px 16px;
      font: 400 15px/23px var(--ffDefault); color: var(--cText1);
      
      p.count strong { color: var(--cTextPrimary); }
      dl.sort { display: flex; margin-left: auto; gap: var(--pxGapItem);
        dt { font-weight: 700; }
        dd { display: flex; align-items: stretch; }
        input[type=radio] { position: absolute; opacity: 0; }
        label { padding: 0 4px; border-radius: 4px; transition: .3s; }
        label:has(input[type=radio]:checked) { background: #1B5D881A; }
      }

      label.switch {
        position: relative; display: flex; align-items: stretch; gap: 4px; margin-left: auto;
        font: 400 13px/16px var(--ffDefault);

        input[type=checkbox] { position: absolute; opacity: 0; }
        
        &::before {
          content: ''; position: absolute; right: 14px; top: 0; bottom: 0; margin: auto 0;
          display: block; width: 12px; height: 12px; border-radius: 50%; opacity: 0; 
          background: url('/images/map/ui-switch-on.svg') center no-repeat; transition: .3s; }
        &::after {
          content: ''; flex: 0 0 28px; display: block; border-radius: var(--pxInRounding);
          background: var(--cG10) url('/images/map/ui-switch-off.svg') 2px center no-repeat; background-size: 12px;
          transition: .3s, background-size 0s; }
          &:has(input:checked)::before { right: 2px; opacity: 1; }
        &:has(input:checked)::after { background-color: var(--cPr); background-position-x: 14px; background-size: 0; transition: .3s, background-size 0s .3s; }
      }
    }

    .items { display: flex; flex-flow: column; gap: var(--pxGapItem); padding: 0 8px 16px 16px;
      dl {
        display: flex; flex-flow: wrap; justify-content: flex-start; gap: var(--pxGapItem);
        border: 1px solid var(--cG10); border-radius: 12px; padding: 19px;
        transition: .3s;
        
        &[data-selected='true'] { border-color: var(--cPr); }
      }
      dt { font: 700 19px/23px var(--ffDefault); color: var(--cG95); }
      dd { flex: 0 0 100%; }
      .partner { flex: 0 0 auto; padding: 2px 2px 2px 16px; color: var(--cP60); font: 400 13px/16px var(--ffDefault); background: #FAFAFA url('/images/map/icon-partner.svg') 2px center no-repeat; }
      .address { color: var(--cG60); font: 400 17px/20px var(--ffDefault); }
      .zip { color: var(--cG40); font-size: 15px; }
      .zip::before { content: '('; }
      .zip::after { content: ')'; }
      .category { flex: 0 0 auto; padding: 3px 4px; border: 1px solid var(--cG10); border-radius: 4px; color: var(--cG60); font: 400 15px/18px var(--ffDefault); }
    }
  }

  /* 접고 펴기 버튼 */
  button.folding { position: absolute; transition: .3s cubic-bezier(0.8, -0.5, 0.2, 1.8); }
  button.folding.show {
    bottom: 0; left: 50%; margin: 0 auto -36px; transform: translateX(-50%);
    width: auto; padding: 3px 29px 3px 15px;
    border: 1px solid #1314164D; border-radius: 12px; background: #fff url('/images/map/result-show.svg') calc(100% - 15px) center no-repeat;
    color: var(--cSecondary); font: 400 13px/16px var(--ffDefault); }
  button.folding.hide {
    right: 8px; bottom: 8px; width: 32px; height: 32px; border-radius: 50%;
    background: var(--cSecondary) url('/images/map/result-hide.svg') center no-repeat;
  }

  &:has(.result[data-folded='true']) button.folding.hide,
  &:has(.result[data-folded='false']) button.folding.show { transform: scale(0); opacity: 0; }

  /* 필터 적용 시 */
  &[data-state='filterApplyed'] {
    & .searchWrap {
      height: 188px;
      button.reset {
        display: block;
      }
    }
    
    &:has(.result[data-folded='false']) {
      .searchWrap { border-radius: var(--pxExRounding); }
      .filterWrap[data-folded='false'] { max-height: 0; }
    }
  }
}

.detail {
  display: flex; flex-flow: column; gap: 6px; overflow: hidden; z-index: 11;
  width: 556px; max-width: calc(100vw - var(--pxGapWindow) * 2); height: calc(100vh - var(--pxGapWindow) * 2); border-radius: var(--pxExRounding);
  position: fixed; left: calc(var(--pxGapWindow) * 2 + var(--pxListW)); top: var(--pxGapWindow);
  background: var(--cG05);
  transition: .5s allow-discrete; visibility: visible;

  &[data-show='false'] { visibility: hidden; transform: translateX(calc(var(--pxGapWindow) * -1)); opacity: 0; }

  &>header {
    position: sticky; top: 0; 
    display: flex; flex-flow: wrap; align-items: flex-start; gap: var(--pxGapWindow); padding: 16px 16px 0;
    background: #fff; border-bottom: 1px solid var(--cG10);
  
    h2 {
      flex: 1; display: flex; justify-content: center; align-items: center; gap: var(--pxGapWindow); padding: 15px 0;
      text-align: center; color: var(--cG95); font: 700 24px/29px var(--ffDefault);
      
      .partner {
        flex: 0 0 auto; display: flex; align-items: center; gap: 2px; padding: 8px 12px; border-radius: 16px;
        background: linear-gradient(90deg, #1B5D88 0%, #2DA34F 100%);
        color: #fff; font: 800 13px/16px var(--ffDefault);

        &::before { content: ''; display: block; flex: 0 0 12px; height: 11px; background: url('/images/map/icon-partner.svg') center no-repeat; filter: brightness(0) invert(1); }
      }
    }
    button { position: relative; flex: 0 0 32px; aspect-ratio: 1/1; background: center no-repeat;
      
      &::after {
        content: ''; position: absolute; top: 0; left: 0; right: 0;
        display: block; height: auto; aspect-ratio: 1/1; border-radius: 50%;
        background-color: #000;
        opacity: 0; transition: .5s; }
      &:active::after { transform: scale(0); opacity: .2; transition: 0s; }
      
        &.back { order: -1; background-image: url('/images/map/detail-back.svg');}
      &.close { background-image: url('/images/map/detail-close.svg');}
    }

    nav.tab {
      flex: 0 0 100%; display: flex; align-items: stretch; gap: 1px;
      border-top: 1px solid var(--cG10); background: linear-gradient(#fff 21px, var(--cG10) 21px, var(--cG10) calc(100% - 21px), #fff calc(100% - 21px));

      &:has(label:only-child),
      &:not(:has(label)) { display: none; }

      label {
        flex: 1; display: flex; flex-flow: column; align-items: center; padding: 16px 12px;
        background: #fff;
        text-align: center; color: var(--cG70); font: 400 13px/32px var(--ffDefault);
        transition: 0s;
      
        &::before { content: ''; flex: 0 0 auto; width: 32px; aspect-ratio: 1/1; background: center no-repeat; }
        &:has(input.basic)::before { background-image: url(/images/map/detail-tab-basic.svg); }
        &:has(input.more)::before { background-image: url(/images/map/detail-tab-more.svg); }
        &:has(input.oemodm)::before { background-image: url(/images/map/detail-tab-oemodm.svg); }
        &:has(input.certificate)::before { background-image: url(/images/map/detail-tab-certificate.svg); }
        &:has(input.material)::before { background-image: url(/images/map/detail-tab-material.svg); }

        &:has(input:checked) { color: var(--cP60); font-weight: 700;
          &::before { filter: sepia(1) saturate(10) hue-rotate(137deg) brightness(.9); }
        }
      }
      input { position: absolute; visibility: hidden; opacity: 0; }
    }
  }

}

.tabContents {
  flex: 1; display: flex; flex-flow: column; padding: 0; overflow: auto; background: var(--cG05); 
  
  &[data-show='false'] { display: none; }

  &>* { padding: var(--pxPadding); background-color: #fff;
    &:last-child { border-bottom: 0 none; }
  }
  &.basic { gap: 6px;
    &>* { padding-top: 16px; padding-bottom: 16px; }
  }

  h3 { margin-bottom: 12px; color: var(--cG95); font: 700 17px/20px var(--ffDefault); }
  h4 { margin-bottom: 20px; color: var(--cG95); font: 700 15px/18px var(--ffDefault); }
  h5 { font: 500 13px/20px var(--ffDefault); }

  .subjectList h4 { margin-bottom: 12px; }

  .contents {
    &>header { display: flex; justify-content: space-between; align-items: flex-start; padding-bottom: 0;
      &+:is(.productList,.subjectList) { margin-top: 20px; }
    }
    
    &.banner {
      flex: 0 0 auto; display: flex; flex-flow: column; justify-content: center; align-items: flex-start;
      min-height: 142px; padding: 0 16px 0 216px; border-bottom: 0 none;
      background: #FFF1B8 url('/images/map/banner-partener.svg') 16px center no-repeat;
      img { grid-row: span 2; }
      p { color: var(--cG95); font: 500 13px/20px 'Paperlogy', sans-serif; }
      button { display: flex; margin-top: 8px; color: var(--cP60); font: 700 15px/20px 'Paperlogy', sans-serif; 
        &::after { content: ''; flex: 0 0 20px; aspect-ratio: 1/1; background: url('/images/map/ui-link-arrow.svg') center no-repeat; }
      }
    }
    &:has(+footer) { flex: 1 0 auto; padding-bottom: 86px; }

    &+.contents { border-top: 1px solid var(--cG10); }
  }
  
  footer.function {
    position: absolute; left: 12px; right: 12px; bottom: 12px;
    display: flex; justify-content: center; align-items: center; 
    border-radius: var(--pxInRounding); box-shadow: 0px 0px 8px 0px #0000001A;
    
    &.toLogin { gap: 12px; color: var(--cG40); font: 500 16px/19px var(--ffDefault); }
    &.contact {
      border: 1px solid var(--cP10); background: var(--cPrBack);

      button { flex: 1 1 auto; display: flex; align-items: center; color: var(--cP90); font: 400 16px/19px var(--ffDefault);
        &::before { content: ''; width: 16px; aspect-ratio: 1/1; margin: 0 2px 0 auto; background: center no-repeat; }
        &.estimate::before { background-image: url('/images/map/contact-estimate.svg'); }
        &.message::before { background-image: url('/images/map/contact-message.svg'); }
        &.inquiry::before { background-image: url('/images/map/contact-inquiry.svg'); }
        &::after { content: ''; margin-left: auto; }
        &:not(:last-child)::after { width: 1px; height: 16px; background: var(--cP10); margin-left: auto; }
      }

      &::before,
      &::after { content: ''; flex: 0 1 25px; }
    }
  }
  &:has(footer.function.toLogin) { padding-bottom: 88px; }
  
  &.more .sales .summaryItems dl { flex: 1 0 calc(50% - 4px); }
}

/* modal */
.modal {
  position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: 100; background: #00000066;
  display: flex; justify-content: center; align-items: center; overflow: auto; padding: var(--pxGapWindow) 0;
  visibility: hidden; opacity: 0; transition: .3s;
  
  section.popup {
    flex: 0 0 auto;
    position: relative;
    width: 760px; max-width: calc(100vw - var(--pxGapWindow) * 2); max-height: 604px; overflow: auto;
    padding: 24px; border-radius: 12px; background: #fff;
    transform: scale(.98); transition: .3s;

    &>header {
      position: sticky; top: 0; z-index: 10;
      display: flex; justify-content: space-between; padding: 0 16px 24px;
      background: #fff;
      
      h2 { color: var(--cG95); font: 700 24px/36px var(--ffDefault); }

      button.close { 
        position: relative; flex: 0 0 32px; aspect-ratio: 1/1;
        background: url('/images/map/layerpopup-close.svg') center no-repeat;
        
        &::after {
          content: ''; position: absolute; top: 0; left: 0; right: 0;
          display: block; height: auto; aspect-ratio: 1/1; border-radius: 50%;
          background-color: #000;
          opacity: 0; transition: .5s; }
        &:active::after { transform: scale(0); opacity: .2; transition: 0s; }
      }
    }

    nav.slideTab {
      --pxTabGap: 0px; --pxInPadding: 0px;
      padding: 0; margin: 0 0 16px; border: 0 none;

      button { color: var(--cG80); font-weight: 400; font-size: 17px; }
      button[data-pressed=true] { color: #fff; font-weight: 700; font-size: 17px; }

      &::after { background: var(--cG70); }
    }
  }

  &[data-show='true'] { visibility: visible; opacity: 1;
    section.popup { transform: none; }
  }
}

@media (max-width: 700px) {
  .detail { left: 12px; }
}